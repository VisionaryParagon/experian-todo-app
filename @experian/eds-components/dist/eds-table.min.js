!function(e){var t={};function s(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){const o="eds-table",n=s(1),a=s(2);function l(e,t){return Array.from(e.querySelectorAll("tr")).forEach(t)}class i extends EDSElement{static get observedAttributes(){return i.normalizeObservedAttributes(["compact",{multiselect:"multiSelect"}])}init(){this.initShadowDOM(o,n,a),this.defineFlagProperties(i.observedAttributes),this._refs={table:this.$(".eds-table-content"),colgroup:this.$(".eds-table-colgroup"),head:this.$(".eds-table-head"),body:this.$(".eds-table-body"),rowActions:this.$(".eds-table-row-actions"),tableHeader:this.$(".eds-table-header"),selectionHeader:this.$(".eds-table-selection-header")},this._columns=[],this._data=[],this._selectedRows=[]}connectedCallback(){this._onMouseover=this._onMouseover.bind(this),document.addEventListener("mouseover",this._onMouseover),this._refs.rowActions.addEventListener("click",this._onRowActionClick.bind(this)),super.connectedCallback()}disconnectedCallback(){document.removeEventListener("mouseover",this._onMouseover),super.disconnectedCallback()}get columns(){return this._columns}set columns(e){this._columns=e,this.refresh()}get data(){return this._data}set data(e){this._data=e,this.refresh()}get rowClasses(){return this._rowClasses}set rowClasses(e){this._rowClasses=e,this.refresh()}_rowClasses(e){return[]}get selectedRows(){return this._selectedRows}set selectedRows(e){this._selectedRows=e,this._refreshSelections()}refresh(){this._renderColumns(),this._renderRows()}_renderColumns(){if(this._refs.colgroup.innerHTML="",this._refs.head.innerHTML="",this.multiSelect){const e=document.createElement("col");this._refs.colgroup.appendChild(e);const t=document.createElement("th");t.classList.add("eds-table-checkbox-cell"),t.classList.add("eds-table-select-all"),t.insertAdjacentHTML("afterbegin","<eds-checkbox></eds-checkbox>"),this._refs.head.appendChild(t),t.querySelector("eds-checkbox").addEventListener("change",this._toggleSelectAll.bind(this))}this.columns.forEach(e=>{this._renderColumn(e)}),this._refs.head.addEventListener("mouseover",()=>{l(this._refs.table,e=>e.classList.remove("hover")),this._hideRowActions()})}_renderColumn(e){const t=document.createElement("col");t.style.width=e.width?`${e.width}px`:"auto",t.setAttribute("data-field",e.field),this._refs.colgroup.appendChild(t);const s=document.createElement("th");s.innerHTML=e.name,s.setAttribute("data-field",e.field),this._refs.head.appendChild(s)}_renderRows(){this._refs.body.innerHTML="";let e=0;this.data.forEach(t=>{let s=this._renderRow(t),o=e%2?"even":"odd";s.classList.add(o),e++})}_renderRow(e){const t=document.createElement("tr");let s="";this.multiSelect&&(s+='<td class="eds-table-checkbox-cell"><eds-checkbox class="eds-suppress-row-click"></eds-checkbox></td>');let o=0;if(this.columns.forEach((t,n)=>{const a=t.colspan?t.colspan(t,e):1;if(!o){const n=this._formattedCellValue(t,e);let l="",i="";"object"==typeof n?(l=n.class,i=n.html):i=n,s+=`<td class="eds-table-cell ${l}" data-field="${t.field}" colspan="${a}">`,s+=i,s+="</td>",o>0&&(o-=1)}a>1&&(o+=a)}),t.setAttribute("data-id",e.id),t.classList.add.apply(t.classList,["eds-table-row"].concat(this.rowClasses(e))),t.addEventListener("mouseover",s=>this._onRowHover(e,t,s)),t.addEventListener("click",t=>this._onRowClick(e,t)),t.insertAdjacentHTML("afterbegin",s),this._refs.body.appendChild(t),this.multiSelect){const s=t.querySelector(".eds-table-checkbox-cell eds-checkbox");s.addEventListener("change",()=>this._onCheckboxChange(s,t,e))}return t}_formattedCellValue(e,t){let s;if(e.field.match(".")){const o=e.field.split(".");s=t,o.forEach(e=>s=s[e])}else s=t[e.field];return e.formatter?e.formatter(s,t):void 0!==s?s:""}_onCheckboxChange(e,t,s){e.checked?(this.selectedRows=this._selectedRows.concat(s),this._hideRowActions()):this.selectedRows=this.selectedRows.filter(e=>e.id!==s.id),this._syncSelectAllCheckbox(),this.dispatchEvent(new CustomEvent("selectionchange",{detail:this.selectedRows}))}_refreshSelections(){l(this._refs.body,e=>{e.classList.remove("eds-selected"),e.querySelector("eds-checkbox").checked=!1}),this.selectedRows.forEach(e=>{let t=this._refs.body.querySelector(`tr[data-id="${e.id}"]`);t.classList.add("eds-selected"),t.querySelector("eds-checkbox").checked=!0}),this._syncSelectAllCheckbox(),this.selectedRows.length?this._showSelectionHeader():this._hideSelectionHeader()}_showSelectionHeader(){this._refs.selectionHeader.classList.add("show")}_hideSelectionHeader(){this._refs.selectionHeader.classList.remove("show")}_syncSelectAllCheckbox(){const e=this._refs.head.querySelector(".eds-table-checkbox-cell eds-checkbox");this.data.length===this.selectedRows.length&&0!==this.data.length?e.checked=!0:e.checked=!1}selectAll(){this.selectedRows=this.data.slice()}clearSelection(){this.selectedRows=[]}_toggleSelectAll(){const e=this.shadowRoot.querySelector(".eds-table-select-all eds-checkbox");e&&(e.checked?this.selectAll():this.clearSelection(),this.dispatchEvent(new CustomEvent("selectionchange",{detail:this.selectedRows})))}_onMouseover(e){this._refs.head.contains(e.target)&&this._hideRowActions(),this.contains(e.target)||this._hideRowActions()}_onRowHover(e,t,s){l(this._refs.table,e=>e.classList.remove("hover")),(!this.multiSelect||this.multiSelect&&!this.selectedRows.length)&&t.classList.add("hover"),this._currentRow=e,this._refs.rowActions.querySelector("slot").assignedNodes().length&&(this.selectedRows.length?this._hideRowActions():this._showRowActions(t))}_onRowClick(e,t){if(t.target.classList.contains("eds-suppress-row-click"))return;const s=function(e,t){for(;!e.classList.contains(t)&&(e=e.parentElement););return e}(t.target,"eds-table-cell");s&&this.dispatchEvent(new CustomEvent("rowclick",{detail:{field:s.getAttribute("data-field"),row:this._currentRow,event:t}}))}_showRowActions(e){e.classList.contains("even")?this._refs.rowActions.classList.add("even"):this._refs.rowActions.classList.remove("even");const t=e.offsetTop+1;this._refs.rowActions.style.top=`${t}px`,this._refs.rowActions.style.height=`${e.offsetHeight-1}px`,this._refs.rowActions.classList.add("show"),this._refs.rowActions.classList.remove("opaque"),this._refs.rowActions.classList.add("opaque")}_hideRowActions(){l(this._refs.table,e=>e.classList.remove("hover")),this._refs.rowActions.classList.remove("show"),this._refs.rowActions.classList.remove("opaque")}_onRowActionClick(e){this.dispatchEvent(new CustomEvent("rowactionclick",{detail:{action:e.target.getAttribute("data-action"),row:this._currentRow,target:e.target}}))}}customElements.define(o,i),window.EDSTableElement=i},function(e,t){e.exports="<div class=\"eds-table-header api-table-header\">\n  <slot name='header'></slot>\n</div>\n\n<div class=\"eds-table-selection-header api-table-selection-header\">\n  <slot name='selection-header'></slot>\n</div>\n\n<div class=\"eds-table-row-actions\">\n  <slot name=\"row-actions\"></slot>\n</div>\n\n<table class='eds-table-content api-table-content'>\n  <colgroup class='eds-table-colgroup'></colgroup>\n  <thead><tr class=\"eds-table-head\"></tr></thead>\n  <tbody class='eds-table-body'></tbody>\n</table>\n\n<div class=\"eds-table-footer api-table-footer\">\n  <slot name='footer'></slot>\n</div>"},function(e,t){e.exports='/*\n * These variables are available to all components globally and are thus designated with an "eds-" prefix.\n * Components may implement these and pass-through to a local variable name.\n */\n/*\n * These variables are available to all components globally and are thus designated with an "eds-" prefix.\n * Components may implement these and pass-through to a local variable name.\n */\n/* reset button styling\n * source: https://gist.github.com/MoOx/9137295\n */\neds-table .eds-table-row-actions {\n  transform-origin: right;\n  transition: transform 100ms ease-in 0ms, opacity 0ms ease 0ms, background-color 0ms ease 0ms, box-shadow 0ms ease 0ms; }\n  eds-table .eds-table-row-actions.show {\n    transition: transform 100ms ease-out 0ms, opacity 40ms ease 10ms; }\n  eds-table .eds-table-row-actions eds-icon {\n    transition: transform 100ms ease, color 100ms ease; }\n    eds-table .eds-table-row-actions eds-icon:hover {\n      transition: transform 100ms ease, color 100ms ease; }\n\neds-table table .eds-table-cell {\n  transition: padding 100ms ease; }\n\neds-table table tr {\n  transition: background-color 50ms ease 0ms; }\n  eds-table table tr.eds-selected {\n    transition: background-color 50ms ease 0ms; }\n  eds-table table tr.hover {\n    transition: background-color 0ms ease 0ms; }\n\neds-table[compact] table .eds-table-cell {\n  transition: padding 100ms ease; }\n\neds-table .eds-table-selection-header {\n  transition: transform 80ms ease-in 0ms, opacity 40ms linear 10ms; }\n  eds-table .eds-table-selection-header.show {\n    transition: transform 50ms cubic-bezier(0, 1, 0, 0.97) 0ms, opacity 30ms cubic-bezier(0, 1, 0, 0.97) 10ms; }\n\neds-table {\n  display: inline-table;\n  position: relative;\n  border: 1px solid #cccccc;\n  border-radius: 6px;\n  overflow: hidden; }\n  eds-table .eds-table-row-actions {\n    opacity: 0;\n    transform: scale(0);\n    position: absolute;\n    top: 1px;\n    right: 1px;\n    height: 38px;\n    padding: 0px 5px 0 8px;\n    color: #426da9; }\n    eds-table .eds-table-row-actions.show {\n      opacity: 1;\n      transform: scale(1); }\n    eds-table .eds-table-row-actions.opaque {\n      background-color: #eef4fc;\n      box-shadow: -10px 0px 15px -8px #eef4fc, -30px 0px 20px -10px #eef4fc; }\n    eds-table .eds-table-row-actions eds-icon {\n      padding: 12px 7px 10px;\n      margin-right: 0;\n      cursor: pointer; }\n      eds-table .eds-table-row-actions eds-icon:last-child {\n        margin-right: 5px; }\n      eds-table .eds-table-row-actions eds-icon:hover {\n        transform: scale(1.2);\n        color: #163c6f; }\n  eds-table table {\n    width: 100%;\n    border-spacing: 0;\n    overflow: hidden;\n    border-collapse: collapse;\n    table-layout: fixed; }\n    eds-table table .eds-table-head {\n      background-color: #f3f3f3;\n      border-bottom: 1px solid #cccccc;\n      border-top-left-radius: 6px;\n      border-top-right-radius: 6px;\n      overflow: hidden; }\n      eds-table table .eds-table-head th {\n        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif;\n        font-size: 16px;\n        font-weight: 400;\n        color: #333333;\n        font-size: 14px;\n        font-weight: bold;\n        text-align: left;\n        padding: 11px 20px;\n        line-height: 1; }\n        eds-table table .eds-table-head th:not(:first-child) {\n          border-left: 1px solid #cccccc; }\n    eds-table table tr.even {\n      background-color: #f3f3f3; }\n    eds-table table tr.odd {\n      background-color: white; }\n    eds-table table tr.hover {\n      background-color: #eef4fc; }\n    eds-table table tr.eds-selected {\n      background-color: #f7e9f9; }\n    eds-table table .eds-table-cell {\n      font-size: 14px;\n      padding: 13px 20px;\n      line-height: 1; }\n      eds-table table .eds-table-cell:not(:first-child) {\n        border-left: 1px solid #cccccc; }\n    eds-table table .eds-table-checkbox-cell {\n      padding: 0 10px !important;\n      width: 40px; }\n      eds-table table .eds-table-checkbox-cell eds-checkbox {\n        display: block;\n        height: 18px; }\n  eds-table[compact] table .eds-table-cell {\n    padding: 7px 20px; }\n  eds-table[compact] .eds-table-row-actions {\n    height: 27px; }\n    eds-table[compact] .eds-table-row-actions.opaque {\n      box-shadow: -15px 0px 15px -8px #eef4fc, -30px 0px 20px -10px #eef4fc; }\n    eds-table[compact] .eds-table-row-actions eds-icon {\n      padding: 5px 7px; }\n  eds-table .eds-table-header [slot=\'header\'] > section {\n    border-bottom: 1px solid #cccccc;\n    padding: 16px 20px; }\n  eds-table .eds-table-selection-header {\n    opacity: 0;\n    transform: scale(0);\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: auto;\n    background-color: #6d2077;\n    color: #ffffff; }\n    eds-table .eds-table-selection-header section, eds-table .eds-table-selection-header eds-toolbar {\n      border-color: rgba(255, 255, 255, 0.3); }\n    eds-table .eds-table-selection-header.show {\n      opacity: 1;\n      transform: scale(1); }\n'}]);
//# sourceMappingURL=eds-table.min.js.map