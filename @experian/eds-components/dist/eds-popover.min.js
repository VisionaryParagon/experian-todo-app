!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1);const n="eds-popover",s=o(2),i=o(3);Object(r.a)("popovers.defaults.position","top");class p extends EDSElement{static get observedAttributes(){return p.normalizeObservedAttributes([{targetclass:"targetClass"},"position","padding","visible"])}get defaults(){return{position:window.EDS.popovers.defaults.position}}init(){this.initShadowDOM(n,s,i),this.defineDefaultProperties(["position","targetClass"]),this.defineFlagProperties(["padding"]),this._refs={content:this.$(".eds-popover-content"),wrapper:this.$(".eds-popover-wrapper")},this.contentid=this._randomNumber(),this._onClick=this._onClick.bind(this)}connectedCallback(){this._listenForTriggers(),super.connectedCallback()}onFirstVisible(){this.visible&&(this.visible=!0),this.visibleOnce=!0}disconnectedCallback(){this._stopListeningForTriggers(),super.disconnectedCallback()}_listenForTriggers(){document.addEventListener("click",this._onClick)}_stopListeningForTriggers(){document.removeEventListener("click",this._onClick)}_onClick(e){let t=e.composedPath?e.composedPath()[0]:e.target;this===t||this.contains(t)||this._containsFromEvent(e,t)?this._waiting&&clearTimeout(this._waiting):(t=t.closest(`.${this.targetClass}`))?t===this._currentEl&&this._visible?this._hide():(this._currentEl=t,this._show(t)):this._popper&&this._hide()}_containsFromEvent(e,t){return e.composedPath().some(e=>e===this)}_clearTimers(){this._waiting&&clearTimeout(this._waiting),this._hiding&&clearTimeout(this._hiding)}_hide(){this._clearTimers(),this._waiting=setTimeout(()=>{this._hiding=setTimeout(()=>{this._refs.wrapper.classList.remove("show"),this._popper.destroy(),this._visible=!1,this._removeAriaAttributes(),this.dispatchEvent(new CustomEvent("hide",{detail:this._currentEl}))},100),this._refs.content.classList.remove("show")},75)}_setAriaAttributes(){this.setAttribute("role","alert"),this.setAttribute("aria-describedby",this._getContentId()),this._refs.wrapper.setAttribute("id",this._getContentId())}_removeAriaAttributes(){this.removeAttribute("role"),this.removeAttribute("aria-describedby")}_show(e){if(!e)return;this._clearTimers(),this._popper&&this._popper.destroy(),this._refs.wrapper.classList.add("show");const t={placement:this.position};this._popper=new Popper(e,this._refs.wrapper,t),this._refs.content.classList.add("show"),this._visible=!0,this._setAriaAttributes(),this.dispatchEvent(new CustomEvent("show",{detail:e}))}_toggle(){this.visible?this._hide():this._show()}_randomNumber(){return Math.floor(9e4*Math.random())+1e4}_getContentId(){return this._refs.wrapper.id||`eds-popover-content-${this.contentid}`}get visible(){return this.hasAttribute("visible")}set visible(e){this.setOrRemoveFlagAttribute("visible",e);const t=document.querySelector(`.${this.targetClass}`);this.flagAttributeIsTruthy(e)?this._show(t):this._hide()}show(e,t){setTimeout(()=>{t?this._show(t):this.visible=!0,e&&e()})}hide(e){setTimeout(()=>{this.visible=!1,e&&e()})}}customElements.define(n,p),window.EDSPopoverElement=p},function(e,t,o){"use strict";t.a=function(e,t){const o=e.split(".");r(e)[o.pop()]=t};const r=function(e){let t=window.EDS;const o=e.split(".");for(;o.length>1;){const e=o.shift();t[e]=t[e]||{},t=t[e]}return t}},function(e,t){e.exports='<div class="eds-popover-wrapper">\n  <div class="eds-popover-content api-popover">\n    <div class="eds-popover-arrow" x-arrow></div>\n    <div class="eds-popover-content-inner">\n      <slot></slot>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='/*\n * These variables are available to all components globally and are thus designated with an "eds-" prefix.\n * Components may implement these and pass-through to a local variable name.\n */\n/*\n * These variables are available to all components globally and are thus designated with an "eds-" prefix.\n * Components may implement these and pass-through to a local variable name.\n */\n/* reset button styling\n * source: https://gist.github.com/MoOx/9137295\n */\neds-popover .eds-popover-content {\n  transition: transform 250ms ease 0ms, opacity 85ms ease 15ms; }\n  eds-popover .eds-popover-content.show {\n    transition: transform 130ms ease 0ms, opacity 50ms ease 50ms; }\n\neds-popover .eds-popover-wrapper {\n  position: absolute;\n  display: none;\n  z-index: 90; }\n  eds-popover .eds-popover-wrapper.show {\n    display: block; }\n  eds-popover .eds-popover-wrapper[x-placement^="top"] {\n    margin-bottom: 16px; }\n    eds-popover .eds-popover-wrapper[x-placement^="top"] [x-arrow], eds-popover .eds-popover-wrapper[x-placement^="top"] [x-arrow]:before {\n      border-width: 8px 8px 0 8px;\n      border-left-color: transparent;\n      border-right-color: transparent;\n      border-bottom-color: transparent;\n      bottom: -8px;\n      left: calc(50% - 8px);\n      margin-top: 0;\n      margin-bottom: 0; }\n    eds-popover .eds-popover-wrapper[x-placement^="top"] [x-arrow]:before {\n      bottom: -1px; }\n  eds-popover .eds-popover-wrapper[x-placement^="right"] {\n    margin-left: 16px; }\n    eds-popover .eds-popover-wrapper[x-placement^="right"] [x-arrow], eds-popover .eds-popover-wrapper[x-placement^="right"] [x-arrow]:before {\n      border-width: 8px 8px 8px 0;\n      border-left-color: transparent;\n      border-top-color: transparent;\n      border-bottom-color: transparent;\n      left: -8px;\n      top: calc(50% - 8px);\n      margin-left: 0;\n      margin-right: 0; }\n    eds-popover .eds-popover-wrapper[x-placement^="right"] [x-arrow]:before {\n      left: -1px; }\n  eds-popover .eds-popover-wrapper[x-placement^="bottom"] {\n    margin-top: 16px; }\n    eds-popover .eds-popover-wrapper[x-placement^="bottom"] [x-arrow], eds-popover .eds-popover-wrapper[x-placement^="bottom"] [x-arrow]:before {\n      border-width: 0 8px 8px 8px;\n      border-left-color: transparent;\n      border-right-color: transparent;\n      border-top-color: transparent;\n      top: -8px;\n      left: calc(50% - 8px);\n      margin-top: 0;\n      margin-bottom: 0; }\n    eds-popover .eds-popover-wrapper[x-placement^="bottom"] [x-arrow]:before {\n      top: -1px; }\n  eds-popover .eds-popover-wrapper[x-placement^="left"] {\n    margin-right: 16px; }\n    eds-popover .eds-popover-wrapper[x-placement^="left"] [x-arrow], eds-popover .eds-popover-wrapper[x-placement^="left"] [x-arrow]:before {\n      border-width: 8px 0 8px 8px;\n      border-top-color: transparent;\n      border-right-color: transparent;\n      border-bottom-color: transparent;\n      right: -8px;\n      top: calc(50% - 8px);\n      margin-left: 0;\n      margin-right: 0; }\n    eds-popover .eds-popover-wrapper[x-placement^="left"] [x-arrow]:before {\n      right: -1px; }\n\neds-popover .eds-popover-content {\n  font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  min-width: 215px;\n  border-radius: 4px;\n  border: 1px solid #d8d8d8;\n  background-clip: border-box;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.12);\n  background-color: #ffffff;\n  box-sizing: border-box;\n  padding: 20px;\n  transform: scale(0);\n  opacity: 0; }\n  eds-popover .eds-popover-content [x-arrow] {\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-color: #ffffff;\n    position: absolute;\n    margin: 8px; }\n    eds-popover .eds-popover-content [x-arrow]:before {\n      content: \'\';\n      border-color: #cccccc;\n      border-style: solid;\n      position: absolute;\n      z-index: -1; }\n  eds-popover .eds-popover-content.show {\n    transform: scale(1);\n    opacity: 1; }\n  eds-popover .eds-popover-content .eds-popover-content-inner {\n    border-radius: 6px;\n    overflow: hidden; }\n\neds-popover[padding="false"] .eds-popover-content {\n  padding: 0; }\n'}]);
//# sourceMappingURL=eds-popover.min.js.map