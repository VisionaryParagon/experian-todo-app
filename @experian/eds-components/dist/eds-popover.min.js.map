{"version":3,"sources":["webpack:///webpack/bootstrap 916832b6c2c65d117c68","webpack:///./index.js","webpack:///../eds-core/set-eds-value.js","webpack:///./eds-popover.html","webpack:///./eds-popover.scss"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__eds_core_set_eds_value__","tag","html","css","EDSPopoverElement","EDSElement","observedAttributes","normalizeObservedAttributes","targetclass","defaults","position","window","EDS","popovers","[object Object]","this","initShadowDOM","defineDefaultProperties","defineFlagProperties","_refs","content","$","wrapper","contentid","_randomNumber","_onClick","bind","_listenForTriggers","super","connectedCallback","visible","visibleOnce","_stopListeningForTriggers","disconnectedCallback","document","addEventListener","removeEventListener","e","el","composedPath","target","contains","_containsFromEvent","_waiting","clearTimeout","closest","targetClass","_currentEl","_visible","_hide","_show","_popper","some","_hiding","_clearTimers","setTimeout","classList","remove","destroy","_removeAriaAttributes","dispatchEvent","CustomEvent","detail","setAttribute","_getContentId","removeAttribute","add","options","placement","Popper","_setAriaAttributes","Math","floor","random","id","hasAttribute","setOrRemoveFlagAttribute","querySelector","flagAttributeIsTruthy","callback","customElements","define","path","parts","split","getPathLeaf","pop","obj","length","part","shift"],"mappings":"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","file":"eds-popover.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 916832b6c2c65d117c68","import { setEDSValue } from '../eds-core/set-eds-value';\nconst tag = 'eds-popover';\nconst html = require('./eds-popover.html');\nconst css = require('./eds-popover.scss');\n\nsetEDSValue('popovers.defaults.position', 'top');\n\nclass EDSPopoverElement extends EDSElement {\n  static get observedAttributes() {\n    return EDSPopoverElement.normalizeObservedAttributes([\n      { targetclass: 'targetClass' }, 'position', 'padding', 'visible'\n    ]);\n  }\n\n  get defaults() {\n    return {\n      position: window.EDS.popovers.defaults.position\n    };\n  }\n\n  init() {\n    this.initShadowDOM(tag, html, css);\n    this.defineDefaultProperties(['position', 'targetClass']);\n    this.defineFlagProperties(['padding']);\n\n    this._refs = {\n      content: this.$('.eds-popover-content'),\n      wrapper: this.$('.eds-popover-wrapper')\n    };\n\n    this.contentid = this._randomNumber();\n    this._onClick = this._onClick.bind(this);\n  }\n\n  connectedCallback() {\n    this._listenForTriggers();\n    super.connectedCallback();\n  }\n\n  onFirstVisible() {\n    if (this.visible) this.visible = true; // Forces a refresh\n    this.visibleOnce = true; // always set true in this method\n  }\n\n  disconnectedCallback() {\n    this._stopListeningForTriggers();\n    super.disconnectedCallback();\n  }\n\n  _listenForTriggers() {\n    document.addEventListener('click', this._onClick);\n  }\n\n  _stopListeningForTriggers() {\n    document.removeEventListener('click', this._onClick);\n  }\n\n  _onClick(e) {\n    let el = e.composedPath ? e.composedPath()[0] : e.target;\n\n    if (this === el || this.contains(el) || this._containsFromEvent(e, el)) {\n      if (this._waiting) clearTimeout(this._waiting);\n    } else if (el = el.closest(`.${this.targetClass}`)) { // eslint-disable-line no-cond-assign\n      if (el === this._currentEl && this._visible) this._hide();\n      else {\n        this._currentEl = el;\n        this._show(el);\n      }\n    } else {\n      if (this._popper) this._hide();\n    }\n  }\n\n  // Due to a bug in webcomponents polyfill we need to search the composedPath\n  // manually to see if this element is inside the popover.\n  // In some cases the 'Oc' object is missing references to parentNode & parentElement\n  _containsFromEvent(e, el) {\n    return e.composedPath().some(el => el === this);\n  }\n\n  _clearTimers() {\n    if (this._waiting) clearTimeout(this._waiting);\n    if (this._hiding) clearTimeout(this._hiding);\n  }\n\n  _hide() {\n    this._clearTimers();\n    // First timer allows enough time to move mouse cursor into the tooltip\n    this._waiting = setTimeout(() => {\n      // Second timer kills the actual tooltip\n      this._hiding = setTimeout(() => {\n        this._refs.wrapper.classList.remove('show');\n        this._popper.destroy();\n        this._visible = false;\n        this._removeAriaAttributes();\n        this.dispatchEvent(new CustomEvent('hide', { detail: this._currentEl }));\n      }, 100);\n      this._refs.content.classList.remove('show');\n    }, 75);\n  }\n\n  _setAriaAttributes() {\n    // TODO: reinvestigate the value of `role` here.\n    // While technically not an alert, we are using the role of `alert`.\n    this.setAttribute('role', 'alert');\n    this.setAttribute('aria-describedby', this._getContentId());\n    this._refs.wrapper.setAttribute('id', this._getContentId());\n  }\n\n  _removeAriaAttributes() {\n    this.removeAttribute('role');\n    this.removeAttribute('aria-describedby');\n  }\n\n  _show(el) {\n    if (!el) return;\n    this._clearTimers();\n    if (this._popper) this._popper.destroy();\n    this._refs.wrapper.classList.add('show');\n\n    const options = {\n      placement: this.position\n    };\n\n    this._popper = new Popper(el, this._refs.wrapper, options); // eslint-disable-line no-new\n    this._refs.content.classList.add('show');\n    this._visible = true;\n    this._setAriaAttributes();\n    this.dispatchEvent(new CustomEvent('show', { detail: el }));\n  }\n\n  _toggle() {\n    if (this.visible) this._hide();\n    else this._show();\n  }\n\n  _randomNumber() {\n    return Math.floor(Math.random() * 90000) + 10000;\n  }\n\n  _getContentId() {\n    return this._refs.wrapper.id || `eds-popover-content-${this.contentid}`;\n  }\n\n  get visible() {\n    return this.hasAttribute('visible');\n  }\n\n  set visible(value) {\n    this.setOrRemoveFlagAttribute('visible', value);\n\n    // Show this popover on the first matching target\n    const el = document.querySelector(`.${this.targetClass}`);\n    if (this.flagAttributeIsTruthy(value)) this._show(el);\n    else this._hide();\n  }\n\n  show(callback, el) {\n    setTimeout(() => {\n      if (el) this._show(el);\n      else this.visible = true;\n      if (callback) callback();\n    });\n  }\n\n  hide(callback) {\n    setTimeout(() => {\n      this.visible = false;\n      if (callback) callback();\n    });\n  }\n}\n\ncustomElements.define(tag, EDSPopoverElement);\nwindow.EDSPopoverElement = EDSPopoverElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 0\n// module chunks = 0","const getPathLeaf = function(path) {\n  let obj = window.EDS;\n  const parts = path.split('.');\n\n  while (parts.length > 1) {\n    const part = parts.shift();\n    obj[part] = obj[part] || {};\n    obj = obj[part];\n  }\n\n  return obj;\n};\n\nexport function setEDSValue(path, value) {\n  const parts = path.split('.');\n  const obj = getPathLeaf(path);\n\n  obj[parts.pop()] = value;\n}\n\nexport function deleteEDSValue(path) {\n  const parts = path.split('.');\n  const obj = getPathLeaf(path.slice(0, -1));\n\n  delete obj[parts.pop()];\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../eds-core/set-eds-value.js\n// module id = 1\n// module chunks = 0","module.exports = \"<div class=\\\"eds-popover-wrapper\\\">\\n  <div class=\\\"eds-popover-content api-popover\\\">\\n    <div class=\\\"eds-popover-arrow\\\" x-arrow></div>\\n    <div class=\\\"eds-popover-content-inner\\\">\\n      <slot></slot>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./eds-popover.html\n// module id = 2\n// module chunks = 0","module.exports = \"/*\\n * These variables are available to all components globally and are thus designated with an \\\"eds-\\\" prefix.\\n * Components may implement these and pass-through to a local variable name.\\n */\\n/*\\n * These variables are available to all components globally and are thus designated with an \\\"eds-\\\" prefix.\\n * Components may implement these and pass-through to a local variable name.\\n */\\n/* reset button styling\\n * source: https://gist.github.com/MoOx/9137295\\n */\\neds-popover .eds-popover-content {\\n  transition: transform 250ms ease 0ms, opacity 85ms ease 15ms; }\\n  eds-popover .eds-popover-content.show {\\n    transition: transform 130ms ease 0ms, opacity 50ms ease 50ms; }\\n\\neds-popover .eds-popover-wrapper {\\n  position: absolute;\\n  display: none;\\n  z-index: 90; }\\n  eds-popover .eds-popover-wrapper.show {\\n    display: block; }\\n  eds-popover .eds-popover-wrapper[x-placement^=\\\"top\\\"] {\\n    margin-bottom: 16px; }\\n    eds-popover .eds-popover-wrapper[x-placement^=\\\"top\\\"] [x-arrow], eds-popover .eds-popover-wrapper[x-placement^=\\\"top\\\"] [x-arrow]:before {\\n      border-width: 8px 8px 0 8px;\\n      border-left-color: transparent;\\n      border-right-color: transparent;\\n      border-bottom-color: transparent;\\n      bottom: -8px;\\n      left: calc(50% - 8px);\\n      margin-top: 0;\\n      margin-bottom: 0; }\\n    eds-popover .eds-popover-wrapper[x-placement^=\\\"top\\\"] [x-arrow]:before {\\n      bottom: -1px; }\\n  eds-popover .eds-popover-wrapper[x-placement^=\\\"right\\\"] {\\n    margin-left: 16px; }\\n    eds-popover .eds-popover-wrapper[x-placement^=\\\"right\\\"] [x-arrow], eds-popover .eds-popover-wrapper[x-placement^=\\\"right\\\"] [x-arrow]:before {\\n      border-width: 8px 8px 8px 0;\\n      border-left-color: transparent;\\n      border-top-color: transparent;\\n      border-bottom-color: transparent;\\n      left: -8px;\\n      top: calc(50% - 8px);\\n      margin-left: 0;\\n      margin-right: 0; }\\n    eds-popover .eds-popover-wrapper[x-placement^=\\\"right\\\"] [x-arrow]:before {\\n      left: -1px; }\\n  eds-popover .eds-popover-wrapper[x-placement^=\\\"bottom\\\"] {\\n    margin-top: 16px; }\\n    eds-popover .eds-popover-wrapper[x-placement^=\\\"bottom\\\"] [x-arrow], eds-popover .eds-popover-wrapper[x-placement^=\\\"bottom\\\"] [x-arrow]:before {\\n      border-width: 0 8px 8px 8px;\\n      border-left-color: transparent;\\n      border-right-color: transparent;\\n      border-top-color: transparent;\\n      top: -8px;\\n      left: calc(50% - 8px);\\n      margin-top: 0;\\n      margin-bottom: 0; }\\n    eds-popover .eds-popover-wrapper[x-placement^=\\\"bottom\\\"] [x-arrow]:before {\\n      top: -1px; }\\n  eds-popover .eds-popover-wrapper[x-placement^=\\\"left\\\"] {\\n    margin-right: 16px; }\\n    eds-popover .eds-popover-wrapper[x-placement^=\\\"left\\\"] [x-arrow], eds-popover .eds-popover-wrapper[x-placement^=\\\"left\\\"] [x-arrow]:before {\\n      border-width: 8px 0 8px 8px;\\n      border-top-color: transparent;\\n      border-right-color: transparent;\\n      border-bottom-color: transparent;\\n      right: -8px;\\n      top: calc(50% - 8px);\\n      margin-left: 0;\\n      margin-right: 0; }\\n    eds-popover .eds-popover-wrapper[x-placement^=\\\"left\\\"] [x-arrow]:before {\\n      right: -1px; }\\n\\neds-popover .eds-popover-content {\\n  font-family: \\\"Roboto\\\", \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  min-width: 215px;\\n  border-radius: 4px;\\n  border: 1px solid #d8d8d8;\\n  background-clip: border-box;\\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.12);\\n  background-color: #ffffff;\\n  box-sizing: border-box;\\n  padding: 20px;\\n  transform: scale(0);\\n  opacity: 0; }\\n  eds-popover .eds-popover-content [x-arrow] {\\n    width: 0;\\n    height: 0;\\n    border-style: solid;\\n    border-color: #ffffff;\\n    position: absolute;\\n    margin: 8px; }\\n    eds-popover .eds-popover-content [x-arrow]:before {\\n      content: '';\\n      border-color: #cccccc;\\n      border-style: solid;\\n      position: absolute;\\n      z-index: -1; }\\n  eds-popover .eds-popover-content.show {\\n    transform: scale(1);\\n    opacity: 1; }\\n  eds-popover .eds-popover-content .eds-popover-content-inner {\\n    border-radius: 6px;\\n    overflow: hidden; }\\n\\neds-popover[padding=\\\"false\\\"] .eds-popover-content {\\n  padding: 0; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./eds-popover.scss\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}